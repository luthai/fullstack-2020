{"version":3,"sources":["components/Blog.jsx","components/LoginForm.jsx","services/blogs.js","services/login.js","App.jsx","index.jsx"],"names":["Blog","blog","title","author","defaultProps","LoginForm","handleLogin","username","setUsername","password","setPassword","onSubmit","type","value","name","onChange","target","axios","get","then","response","data","login","credentials","a","post","App","useState","user","setUser","setErrorMessage","blogs","setBlogs","useEffect","blogService","event","preventDefault","loginService","logInUser","console","log","setTimeout","map","key","id","ReactDOM","render","document","getElementById"],"mappings":"2OAGMA,EAAO,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAH,OACX,6BACGA,EAAKC,MADR,IACgBD,EAAKE,SAQvBH,EAAKI,aAAe,CAClBH,KAAM,IAGOD,QCdTK,EAAY,SAAC,GAAD,IAChBC,EADgB,EAChBA,YAAaC,EADG,EACHA,SAAUC,EADP,EACOA,YAAaC,EADpB,EACoBA,SAAUC,EAD9B,EAC8BA,YAD9B,OAGhB,0BAAMC,SAAUL,GACd,wCAEE,2BACEM,KAAK,OACLC,MAAON,EACPO,KAAK,WACLC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBR,EAAYQ,EAAOH,WAGjD,wCAEE,2BACED,KAAK,WACLC,MAAOJ,EACPK,KAAK,WACLC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBN,EAAYM,EAAOH,WAGjD,4BAAQD,KAAK,UAAb,WAYJP,EAAUD,aAAe,CACvBE,YAAa,aACbC,SAAU,GACVC,YAAa,aACbC,SAAU,GACVC,YAAa,cAGAL,Q,gBC/BA,EAVA,WAEb,OADgBY,IAAMC,IAHR,cAICC,MAAK,SAACC,GAAD,OAAcA,EAASC,SCG9BC,EALJ,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sEACWP,IAAMQ,KAHf,aAG6BF,GAD/B,cACNH,EADM,yBAELA,EAASC,MAFJ,2CAAH,sDCsEIK,EApEH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACTpB,EADS,KACCC,EADD,OAEgBmB,mBAAS,IAFzB,mBAETlB,EAFS,KAECC,EAFD,OAGQiB,mBAAS,MAHjB,mBAGTC,EAHS,KAGHC,EAHG,OAIwBF,qBAJxB,mBAIKG,GAJL,aAKUH,mBAAS,CACjC,CACEzB,MAAO,aACPC,OAAQ,UAEV,CACED,MAAO,YACPC,OAAQ,WAZI,mBAKT4B,EALS,KAKFC,EALE,KAgBhBC,qBAAU,WACRC,IAAqBf,MAAK,SAAClB,GAAD,OAAU+B,EAAS/B,QAC5C,IAEH,IAAMK,EAAW,uCAAG,WAAO6B,GAAP,eAAAX,EAAA,6DAClBW,EAAMC,iBADY,kBAGQC,EAAaf,MAAM,CACzCf,WAAUE,aAJI,OAGV6B,EAHU,OAMhBC,QAAQC,IAAI,QAASjC,GACrBsB,EAAQS,GACR9B,EAAY,IACZE,EAAY,IATI,kDAWhBoB,EAAgB,qBAChBW,YAAW,WACTX,EAAgB,QACf,KAda,0DAAH,sDAkBjB,OACE,6BAEa,OAATF,EAEI,6BACE,qDACA,kBAAC,EAAD,CACEtB,YAAaA,EACbC,SAAUA,EACVC,YAAaA,EACbC,SAAUA,EACVC,YAAaA,KAKjB,6BACE,qCACA,6BACA,2BAAIkB,EAAKrB,SAAT,cACA,6BACCwB,EAAMW,KAAI,SAACzC,GAAD,OAAU,kBAAC,EAAD,CAAM0C,IAAK1C,EAAK2C,GAAI3C,KAAMA,UC9D7D4C,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.827106d3.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Blog = ({ blog }) => (\r\n  <div>\r\n    {blog.title} {blog.author}\r\n  </div>\r\n);\r\n\r\nBlog.propTypes = {\r\n  blog: PropTypes.string,\r\n};\r\n\r\nBlog.defaultProps = {\r\n  blog: '',\r\n};\r\n\r\nexport default Blog;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst LoginForm = ({\r\n  handleLogin, username, setUsername, password, setPassword,\r\n}) => (\r\n  <form onSubmit={handleLogin}>\r\n    <div>\r\n      username\r\n      <input\r\n        type=\"text\"\r\n        value={username}\r\n        name=\"Username\"\r\n        onChange={({ target }) => setUsername(target.value)}\r\n      />\r\n    </div>\r\n    <div>\r\n      password\r\n      <input\r\n        type=\"password\"\r\n        value={password}\r\n        name=\"Password\"\r\n        onChange={({ target }) => setPassword(target.value)}\r\n      />\r\n    </div>\r\n    <button type=\"submit\">login</button>\r\n  </form>\r\n);\r\n\r\nLoginForm.propTypes = {\r\n  handleLogin: PropTypes.func,\r\n  username: PropTypes.string,\r\n  setUsername: PropTypes.func,\r\n  password: PropTypes.string,\r\n  setPassword: PropTypes.func,\r\n};\r\n\r\nLoginForm.defaultProps = {\r\n  handleLogin: () => {},\r\n  username: '',\r\n  setUsername: () => {},\r\n  password: '',\r\n  setPassword: () => {},\r\n};\r\n\r\nexport default LoginForm;\r\n","import axios from 'axios';\r\n\r\nconst baseUrl = '/api/blogs';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = async (newObject) => {\r\n  const response = await axios.get(baseUrl, newObject);\r\n  return response.data;\r\n};\r\n\r\nexport default { getAll, create };\r\n","import axios from 'axios';\r\n\r\nconst baseUrl = '/api/login';\r\n\r\nconst login = async (credentials) => {\r\n  const response = await axios.post(baseUrl, credentials);\r\n  return response.data;\r\n};\r\n\r\nexport default login;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Blog from './components/Blog';\r\nimport LoginForm from './components/LoginForm';\r\nimport blogService from './services/blogs';\r\nimport loginService from './services/login';\r\n\r\nconst App = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [user, setUser] = useState(null);\r\n  const [errorMessage, setErrorMessage] = useState();\r\n  const [blogs, setBlogs] = useState([\r\n    {\r\n      title: 'React blog',\r\n      author: 'Damien',\r\n    },\r\n    {\r\n      title: 'Node blog',\r\n      author: 'Lewis',\r\n    },\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    blogService.getAll().then((blog) => setBlogs(blog));\r\n  }, []);\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const logInUser = await loginService.login({\r\n        username, password,\r\n      });\r\n      console.log('hello', username);\r\n      setUser(logInUser);\r\n      setUsername('');\r\n      setPassword('');\r\n    } catch (exception) {\r\n      setErrorMessage('Wrong credentials');\r\n      setTimeout(() => {\r\n        setErrorMessage(null);\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        user === null\r\n          ? (\r\n            <div>\r\n              <h2>Log in to application</h2>\r\n              <LoginForm\r\n                handleLogin={handleLogin}\r\n                username={username}\r\n                setUsername={setUsername}\r\n                password={password}\r\n                setPassword={setPassword}\r\n              />\r\n            </div>\r\n          )\r\n          : (\r\n            <div>\r\n              <h2>Blogs</h2>\r\n              <br />\r\n              <p>{user.username} logged in</p>\r\n              <br />\r\n              {blogs.map((blog) => <Blog key={blog.id} blog={blog} />)}\r\n            </div>\r\n          )\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}